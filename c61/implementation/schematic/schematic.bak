EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:local
LIBS:schematic-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 8
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 850  800  1050 550 
U 5B2C32AB
F0 "Global Connections" 60
F1 "global.sch" 60
$EndSheet
$Sheet
S 850  2050 1250 1250
U 5B31DD39
F0 "Instrution Fetch" 60
F1 "insnfetch.sch" 60
F2 "op_ext" O R 2100 2900 60 
F3 "ra_sel" O R 2100 2450 60 
F4 "is_jmp_s1" O R 2100 3100 60 
F5 "ra_sel_inv" O R 2100 2550 60 
F6 "rb[0..2]" O R 2100 2650 60 
F7 "insn_addr[0..5]" I R 2100 2100 60 
F8 "insn_data[0..15]" I L 850 2900 60 
F9 "imm[0..5]" O R 2100 2250 60 
F10 "ra[0..2]" O R 2100 2350 60 
F11 "insn[0..2]" O R 2100 2750 60 
F12 "last_addr[0..5]" O R 2100 3250 60 
F13 "src_sel[0..1]" O R 2100 3000 60 
$EndSheet
$Sheet
S 2850 2150 1100 1500
U 5B327012
F0 "registers/op mux" 60
F1 "registers.sch" 60
F2 "ra_set" I L 2850 2450 60 
F3 "op_ext" I L 2850 2750 60 
F4 "ra_set_inv" I L 2850 2550 60 
F5 "we0" I L 2850 3050 60 
F6 "we1" I L 2850 3250 60 
F7 "rb[0..2]" I L 2850 2650 60 
F8 "ra[0..2]" I L 2850 2350 60 
F9 "raq[0..5]" O R 3950 2350 60 
F10 "raqi[0..5]" O R 3950 2450 60 
F11 "rb0q[0..5]" O R 3950 2750 60 
F12 "rb1q[0..5]" O R 3950 2850 60 
F13 "rw1[0..2]" I L 2850 3150 60 
F14 "rw0[0..2]" I L 2850 2950 60 
F15 "wd0[0..5]" I L 2850 3400 60 
F16 "wd1[0..5]" I L 2850 3550 60 
F17 "ra0q[0..5]" O R 3950 2600 60 
$EndSheet
$Sheet
S 4450 2300 1100 1000
U 5B5EB69B
F0 "pipeline st. 1 alu/mux" 60
F1 "ps1alumux.sch" 60
F2 "raq[0..5]" I L 4450 2350 60 
F3 "raqi[0..5]" I L 4450 2450 60 
F4 "rb1q[0..5]" I L 4450 2850 60 
F5 "imm[0..5]" I L 4450 3100 60 
F6 "op_ext" I L 4450 3200 60 
F7 "rb0q[0..5]" I L 4450 2750 60 
F8 "rbim[0..5]" O R 5550 2650 60 
F9 "extcarry" O R 5550 3100 60 
F10 "rasrc[0..5]" O R 5550 2950 60 
$EndSheet
$Sheet
S 5950 2250 2000 1900
U 5B603161
F0 "Pipeline st 1 latches" 60
F1 "ps1latches.sch" 60
F2 "d_valids1" I L 5950 2350 60 
F3 "d_isjmps1" I L 5950 2450 60 
F4 "d_exts1" I L 5950 3550 60 
F5 "d_extmodes1" I L 5950 3650 60 
F6 "d_extsels1" I L 5950 3750 60 
F7 "d_extcarrys1" I L 5950 4050 60 
F8 "q_valids1" O R 7950 2350 60 
F9 "q_isjmps1" O R 7950 2450 60 
F10 "q_exts1" O R 7950 3550 60 
F11 "q_extmodes1" O R 7950 3650 60 
F12 "q_extsels1" O R 7950 3750 60 
F13 "q_extcarrys1" O R 7950 4050 60 
F14 "d_dsts1[0..3]" I L 5950 2850 60 
F15 "d_rbims1[0..5]" I L 5950 2650 60 
F16 "d_rasrcs1[0..5]" I L 5950 2950 60 
F17 "d_membases1[0..5]" I L 5950 3250 60 
F18 "d_ravals1[0..5]" I L 5950 3050 60 
F19 "d_insns1[0..2]" I L 5950 3450 60 
F20 "d_extops1[0..1]" I L 5950 3850 60 
F21 "q_dsts1[0..3]" O R 7950 2850 60 
F22 "q_rbims1[0..5]" O R 7950 2650 60 
F23 "q_rasrcs1[0..5]" O R 7950 2950 60 
F24 "q_membases1[0..5]" O R 7950 3250 60 
F25 "q_ravals1[0..5]" O R 7950 3050 60 
F26 "q_insns1[0..2]" O R 7950 3450 60 
F27 "q_extops1[0..1]" O R 7950 3850 60 
$EndSheet
Wire Bus Line
	2100 2350 2500 2350
Wire Bus Line
	2500 2350 2850 2350
Wire Bus Line
	2100 2650 2850 2650
Wire Wire Line
	2100 2450 2600 2450
Wire Wire Line
	2600 2450 2850 2450
Wire Wire Line
	2100 2900 2500 2900
Wire Wire Line
	2500 2750 2500 2900
Wire Wire Line
	2500 2900 2500 3800
Wire Wire Line
	2500 2750 2850 2750
Wire Wire Line
	2100 2550 2850 2550
Wire Bus Line
	4100 2100 4100 2600
Wire Bus Line
	2100 2100 4100 2100
Wire Bus Line
	4100 2600 3950 2600
Wire Bus Line
	3950 2350 4300 2350
Wire Bus Line
	4300 2350 4450 2350
Wire Bus Line
	3950 2450 4450 2450
Wire Bus Line
	3950 2750 4450 2750
Wire Bus Line
	3950 2850 4300 2850
Wire Bus Line
	4300 2850 4450 2850
Wire Bus Line
	2100 2250 2200 2250
Wire Bus Line
	2200 2250 2450 2250
Wire Bus Line
	2450 2250 2450 2000
Wire Bus Line
	2450 2000 4200 2000
Wire Bus Line
	4200 2000 4200 3100
Wire Bus Line
	4200 3100 4450 3100
Wire Wire Line
	2500 3800 4200 3800
Wire Wire Line
	4200 3800 4200 3550
Wire Wire Line
	4200 3550 4200 3200
Wire Wire Line
	4200 3200 4450 3200
Connection ~ 2500 2900
Wire Bus Line
	5550 2650 5950 2650
Wire Wire Line
	2100 3100 2300 3100
Wire Wire Line
	2300 3100 2300 1900
Wire Wire Line
	2300 1900 5700 1900
Wire Wire Line
	5700 1900 5700 2450
Wire Wire Line
	5700 2450 5950 2450
Wire Bus Line
	5550 2950 5950 2950
Wire Wire Line
	5550 3100 5650 3100
Wire Wire Line
	5650 3100 5650 4050
Wire Wire Line
	5650 4050 5950 4050
Wire Bus Line
	2100 2750 2400 2750
Wire Bus Line
	2400 2750 2400 3900
Wire Bus Line
	2400 3900 4300 3900
Wire Bus Line
	4300 3900 4300 3450
Wire Bus Line
	4300 3450 5950 3450
Wire Bus Line
	5800 2850 5950 2850
Wire Bus Line
	5800 1600 5800 1700
Wire Bus Line
	5800 1700 5800 1800
Wire Bus Line
	5800 1800 5800 1900
Wire Bus Line
	5800 1900 5800 2850
Wire Bus Line
	2500 1600 2500 1700
Wire Bus Line
	2500 1700 2500 1800
Wire Bus Line
	2500 1800 2500 2350
Entry Wire Line
	2500 1700 2600 1600
Entry Wire Line
	2500 1600 2600 1500
Entry Wire Line
	2500 1800 2600 1700
Entry Wire Line
	5700 1500 5800 1600
Entry Wire Line
	5700 1600 5800 1700
Entry Wire Line
	5700 1700 5800 1800
Entry Wire Line
	5700 1800 5800 1900
Wire Wire Line
	2600 1500 5700 1500
Wire Wire Line
	2600 1600 5700 1600
Wire Wire Line
	2600 1700 5700 1700
Wire Wire Line
	2600 1800 5700 1800
Wire Wire Line
	2600 1800 2600 2450
Connection ~ 2600 2450
Text Label 2900 1800 2    60   ~ 0
ra_sel
Text Label 2850 1700 2    60   ~ 0
ra2
Text Label 2850 1600 2    60   ~ 0
ra1
Text Label 2850 1500 2    60   ~ 0
ra0
Text Label 5450 1500 2    60   ~ 0
d_dsts10
Text Label 5450 1600 2    60   ~ 0
d_dsts11
Text Label 5450 1700 2    60   ~ 0
d_dsts12
Text Label 5450 1800 2    60   ~ 0
d_dsts13
Wire Bus Line
	4300 2350 4300 2000
Wire Bus Line
	4300 2000 5600 2000
Wire Bus Line
	5600 2000 5600 3050
Wire Bus Line
	5600 3050 5950 3050
Wire Bus Line
	5950 3250 5750 3250
Wire Bus Line
	5750 3250 5750 3400
Wire Bus Line
	5750 3400 4300 3400
Wire Bus Line
	4300 3400 4300 2850
Wire Wire Line
	5950 3550 4200 3550
Connection ~ 4200 3550
Wire Bus Line
	2200 2250 2200 4000
Wire Bus Line
	2200 4000 2200 4100
Wire Bus Line
	2200 4100 2200 4200
Wire Bus Line
	2200 4200 2200 4300
Entry Wire Line
	2200 4100 2300 4200
Entry Wire Line
	2200 4200 2300 4300
Entry Wire Line
	2200 4300 2300 4400
Wire Wire Line
	2300 4100 4400 4100
Wire Wire Line
	2300 4200 4400 4200
Wire Wire Line
	2300 4300 4700 4300
Wire Wire Line
	2300 4400 4800 4400
Text Label 2600 4100 2    60   ~ 0
imm2
Text Label 2600 4200 2    60   ~ 0
imm3
Text Label 2600 4300 2    60   ~ 0
imm4
Text Label 2600 4400 2    60   ~ 0
imm5
Entry Wire Line
	2200 4000 2300 4100
Entry Wire Line
	4400 4200 4500 4100
Entry Wire Line
	4400 4100 4500 4000
Wire Bus Line
	4500 4100 4500 4000
Wire Bus Line
	4500 4000 4500 3850
Wire Bus Line
	4500 3850 5950 3850
Text Label 4300 4100 2    60   ~ 0
d_extops10
Text Label 4300 4200 2    60   ~ 0
d_extops11
Wire Wire Line
	4700 4300 4700 3750
Wire Wire Line
	4700 3750 5950 3750
Wire Wire Line
	4800 4400 4800 3650
Wire Wire Line
	4800 3650 5950 3650
Connection ~ 4300 2350
Connection ~ 4300 2850
Connection ~ 2200 2250
Connection ~ 2500 2350
$Sheet
S 9200 2500 1200 1300
U 5B67573A
F0 "ALU" 60
F1 "alu.sch" 60
F2 "q_rbims1[0..5]" I L 9200 2650 60 
F3 "q_ravals1[0..5]" I L 9200 2800 60 
F4 "op_subcmp" I L 9200 3000 60 
F5 "~op_xor" I L 9200 3100 60 
F6 "~op_mov" I L 9200 3200 60 
F7 "op_invert" I L 9200 3300 60 
F8 "~op_andor" I L 9200 3400 60 
F9 "op_postinvert" I L 9200 3500 60 
F10 "op_or" I L 9200 3600 60 
F11 "~enable" I L 9200 3700 60 
F12 "out[0..5]" T R 10400 2900 60 
F13 "negative" T R 10400 3400 60 
F14 "carry_out" O R 10400 3600 60 
$EndSheet
$Sheet
S 8300 2950 800  1300
U 5B6757FA
F0 "Stage 2 control" 60
F1 "s2control.sch" 60
$EndSheet
Wire Bus Line
	7950 3050 8250 3050
Wire Bus Line
	8250 3050 8250 2800
Wire Bus Line
	8250 2800 9200 2800
Wire Bus Line
	7950 2650 9200 2650
$EndSCHEMATC
